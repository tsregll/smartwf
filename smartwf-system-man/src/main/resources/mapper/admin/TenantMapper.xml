<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.smartwf.sm.modules.admin.dao.TenantDao" >

     
    <!-- 批量删除租户 -->
    <delete id="deleteTenantByIds" parameterType = "java.util.List">
	    delete 
	       from sys_tenant  
	    where id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	
	<!-- 查询用户资源列表 -->
     <select id="queryTenantAll" resultType="com.smartwf.sm.modules.admin.pojo.Tenant">
        select 
			id, tenant_code, tenant_name, enable, remark
		from sys_tenant
		where enable=0 order by create_time desc
    </select>
    
    
    
    <!-- 删除组织架构表-->
    <delete id="deleteOrgByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_organization where tenant_id = #{bean.id}
	</delete>
    <!-- 删除组织架构表-->
    <delete id="deleteUserOrgByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_user_organization where tenant_id = #{bean.id}
	</delete>
	<!-- 删除职务表 -->
    <delete id="deletePostByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_post where tenant_id = #{bean.id}
	</delete>
	<!-- 删除用户职务表 -->
    <delete id="deleteUserPostByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_user_post where tenant_id = #{bean.id}
	</delete>
	<!-- 删除角色表 -->
    <delete id="deleteRoleByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_role where tenant_id = #{bean.id}
	</delete>
	<!-- 删除用户角色表 -->
    <delete id="deleteUserRoleByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_user_role where tenant_id = #{bean.id}
	</delete>
	<!-- 删除角色权限表 -->
    <delete id="deletePermissionByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_role_permission where tenant_id = #{bean.id}
	</delete>
	<!-- 删除用户表 -->
    <delete id="deleteUserByTenantId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_user_info where tenant_id = #{bean.id}
	</delete>
	
	
	
	<!-- 批量删除组织架构表-->
    <delete id="deleteOrgByTenantIds" parameterType = "java.util.List">
	   delete from sys_organization where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
    <!-- 批量删除组织架构表-->
    <delete id="deleteUserOrgByTenantIds" parameterType = "java.util.List">
	   delete from sys_user_organization where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除职务表 -->
    <delete id="deletePostByTenantIds" parameterType = "java.util.List">
	   delete from sys_post where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除用户职务表 -->
    <delete id="deleteUserPostByTenantIds" parameterType = "java.util.List">
	    delete from sys_user_post where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除角色表 -->
    <delete id="deleteRoleByTenantIds" parameterType = "java.util.List">
	    delete from sys_role where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除用户角色表 -->
    <delete id="deleteUserRoleByTenantIds" parameterType = "java.util.List">
	    delete from sys_user_role where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除角色权限表 -->
    <delete id="deletePermissionByTenantIds" parameterType = "java.util.List">
	    delete from sys_role_permission where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除用户表 -->
    <delete id="deleteUserByTenantIds" parameterType = "java.util.List">
	    delete from sys_user_info where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	
	

   
</mapper>