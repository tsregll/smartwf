<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.smartwf.sm.modules.admin.dao.TenantDao" >

     
    <!-- 批量删除租户 -->
    <delete id="deleteTenantByIds" parameterType = "java.util.List">
	    delete 
	       from sys_tenant  
	    where id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	
	<!-- 查询用户资源列表 -->
     <select id="queryTenantAll" resultType="com.smartwf.sm.modules.admin.pojo.Tenant">
        select 
			id, tenant_code, tenant_name, enable, remark
		from sys_tenant
		where enable=0 order by create_time desc
    </select>
    
    
    
    <!-- 删除组织架构表-->
    <delete id="deleteOrgByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_organization where tenant_id = #{bean.id}
	</delete>
    <!-- 删除组织架构表-->
    <delete id="deleteUserOrgByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_user_organization where tenant_id = #{bean.id}
	</delete>
	<!-- 删除职务表 -->
    <delete id="deletePostByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	   delete from sys_post where tenant_id = #{bean.id}
	</delete>
	<!-- 删除用户职务表 -->
    <delete id="deleteUserPostByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_user_post where tenant_id = #{bean.id}
	</delete>
	<!-- 删除角色表 -->
    <delete id="deleteRoleByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_role where tenant_id = #{bean.id}
	</delete>
	<!-- 删除用户角色表 -->
    <delete id="deleteUserRoleByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_user_role where tenant_id = #{bean.id}
	</delete>
	<!-- 删除角色权限 -->
    <delete id="deletePermissionByTeandId" parameterType = "com.smartwf.sm.modules.admin.vo.TenantVO">
	    delete from sys_role_permission where tenant_id = #{bean.id}
	</delete>
	
	
	
	
	<!-- 批量删除组织架构表-->
    <delete id="deleteOrgByTeandIds" parameterType = "java.util.List">
	   delete from sys_organization where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
    <!-- 批量删除组织架构表-->
    <delete id="deleteUserOrgByTeandIds" parameterType = "java.util.List">
	   delete from sys_user_organization where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除职务表 -->
    <delete id="deletePostByTeandIds" parameterType = "java.util.List">
	   delete from sys_post where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除用户职务表 -->
    <delete id="deleteUserPostByTeandIds" parameterType = "java.util.List">
	    delete from sys_user_post where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除角色表 -->
    <delete id="deleteRoleByTeandIds" parameterType = "java.util.List">
	    delete from sys_role where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除用户角色表 -->
    <delete id="deleteUserRoleByTeandIds" parameterType = "java.util.List">
	    delete from sys_user_role where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	<!-- 批量删除角色权限 -->
    <delete id="deletePermissionByTeandIds" parameterType = "java.util.List">
	    delete from sys_role_permission where tenant_id in
	    <foreach collection="list" item="item" open="(" separator="," close=")">
	        #{item}
	    </foreach>
	</delete>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
</mapper>